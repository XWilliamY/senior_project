import os
import sys


def check_input_dir(input_dir):
    if not (os.path.exists(input_dir) and os.path.isdir(input_dir)):
        print("Invalid input directory, exiting")
        sys.exit(1)

    # otherwise
    if input_dir[-1] != '/':
        input_dir += '/'
    return input_dir

def check_output_dir(output_dir):
    # check if output_dir exists
    if os.path.exists(output_dir) and os.path.isdir(output_dir):
        # remove files if directory exists and has files
        if os.listdir(output_dir):
            import shutil
            try:
                shutil.rmtree(output_dir)
            except OSError as e:
                print("Error: %s : %s" % (output_dir, e.strerror))
            os.mkdir(output_dir) # recreate directory since shutil.rmtree removes dir as well
    else: # create directory if it doesn't exist or is not a directory
        os.mkdir(output_dir)

    # after directory has been confirmed or created, make sure output_dir has ending slash
    if output_dir[-1] != '/':
        output_dir += '/'
    return output_dir
